<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="generator" content="nico 0.5.2">
    <meta name="theme" content="one 0.2">
    <title>angular.js 笔记</title>
    <link rel="alternate" type="application/rss+xml" href="/feed.xml" title="Magic ABC" />
    <link rel="stylesheet" href="../static/one.css" />
  </head>
  <body>
    <div class="header">
      <div class="container">
        <div class="brand">
          <a class="home" href="../">Magic ABC</a>
        </div>
        <div class="menu" role="navigation">
          <a href="/life">生活</a>
          <a href="/idea">好主意</a>
          <a href="/game-art">独立游戏</a>
          <a href="/gamemaker.html">点子工具</a>
          <a href="/about.html">About</a>
        </div>
      </div>
    </div>
    <div class="document yue">
<div class="hentry" itemscope itemtype="http://schema.org/Article">
  <h1 class="entry-title" itemprop="name">angular.js 笔记</h1>
  <div class="entry-content" itemprop="articleBody"><h2 id="页面和路由定义优先设计">页面和路由定义优先设计</h2><p>所有页面模板可以包含在一个文件中：<br></p>
<pre>&lt;script type=&quot;text/ng-template&quot; id=&quot;index.html&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/ng-template&quot; id=&quot;list.html&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/ng-template&quot; id=&quot;content.html&quot;&gt;&lt;/script&gt;</pre><p>使用路由系统需要导入ngRoute：<br></p>
<pre>app.config([&#39;$routeProvider&#39;, function($routeProvider){}]);</pre><p>当你的操作想跳转到别的地址时，使用 $location.path=。<br></p>
<h2 id="控制器和服务">控制器和服务</h2><p>理论上一个页面一个控制器。控制器里面定义模型数据值，可以直接渲染成页面结果，非常直接方便。<br></p>
<pre>app.controller(&#39;index_controller&#39;, function($scope){
    $scope.some_model = value;
});</pre><p>一般模型的数据来源都是服务器端，从服务器端请求数据的抽象包装成服务的样子。一些在多个控制器共享的全局数据也可以装进服务里。<br></p>
<pre>app.factory(&#39;some_svr&#39;, function(){});</pre><h2 id="常用指令和服务">常用指令和服务</h2><ol>
<li>ng-app</li>
<li>ng-init 初始化一些模型值，调试或者配置的时候用；</li>
<li>ng-repeat dom元素重复</li>
<li>ng-show/ng-hide</li>
<li>ng-class</li>
<li>ng-click 控件点击行为</li>
<li>ng-controller</li>
<li>$location</li>
<li>$http ajax接口</li>
<li>$timeout 定时器</li>
<li>$q 异步委托promise</li>
</ol>
<h2 id="单机测试">单机测试</h2><p>因为有promise，所以可以无服务器的时候用promise模拟服务器响应结果，做单机demo很方便。以后接入服务器只需要修改服务的内部代码，而不需要调整结构。<br></p>
<pre>var df = $q.defer();
df.notify(value); //通知用户更新状态
df.resolve(value); //通知用户委托正常结束
df.reject(value); //通知用户委托异常结束

var p = df.promise;
p.then(fn1, fn2, fn3);</pre><p>模拟的时候用$timeout延时后给调用者反馈结果。实际调用服务器接口的时候也可以通过promise将多个原子接口包装成为一个业务。</p>
</div>

  <div class="entry-meta">
    <time class="updated" datetime="2015-01-01T16:00:00.000Z" itemprop="dateModified">Friday, Jan 2nd, 2015</time>
  </div>
  <img src='/pay2d.png' /><br><div id="disqus_thread"></div>
<script>

var disqus_config = function () {
//this.page.url = ; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = "idea/idea-angularjs"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//magicabc.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>
 
</div>
    <div class="footer">
      <p class="copyright">powered by <a href="http://lab.lepture.com/nico/">nico</a> 0.5.2</p>
    </div>
    <div class="github"><a class="github-link" href="https://coding.net/u/hwh008">Fork me on Coding</a></div>
    <script src="../static/one.js"></script>
  </body>
</html>